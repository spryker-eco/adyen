{# @deprecated Use molecule('adyen-credit-card', 'Adyen') instead. #}
{% extends model('component') %}

{% define config = {
    name: 'credit-card',
    tag: 'credit-card'
} %}
{#
    @deprecated property "scriptSrc" is deprecate: kept for BC reasons, will be removed in next major.
    @deprecated property "configKey" is deprecate: kept for BC reasons, will be removed in next major.
#}
{% define data = {
    form: required,
    scriptSrc: '',
    configKey: data.form.adyenCreditCard.vars.sdkOriginKey,
} %}

{% define attributes = {
    'client-config-key': data.configKey,
} %}

{% block body %}
    {% include molecule('script-loader') with {
        attributes: {
            src: data.scriptSrc,
        }
    } only %}
    <div class="{{ config.jsName }}__form">
        {{ form_widget(data.form.adyenCreditCard) }}
        <input type="hidden" name="txvariant" value="card" />

        <div class="form__fields grid grid--bottom">
            <div class="form__field col col--sm-12">
                <span class="{{ config.name }}__input input input--expand" data-hosted-id="hostedCardNumberField" data-cse="encryptedCardNumber"></span>
            </div>

            <div class="form__field col col--sm-6">
                <span class="{{ config.name }}__input input input--expand" data-hosted-id="hostedExpiryDateField" data-cse="encryptedExpiryDate"></span>
            </div>

            <div class="form__field col col--sm-6">
                <span class="{{ config.name }}__input input input--expand" data-hosted-id="hostedSecurityCodeField" data-cse="encryptedSecurityCode"></span>
            </div>
        </div>
    </div>
{% endblock %}
